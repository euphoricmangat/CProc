<UserControl x:Class="CoreFreqWindows.GUI.TopologyView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="#FF0D1117">
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- CPU Topology Overview -->
            <Border Grid.Row="0" Padding="15" Margin="0,0,0,15" CornerRadius="8" 
                   BorderThickness="1" BorderBrush="#FF30363D" Background="#FF161B22">
                <StackPanel>
                    <TextBlock Text="CPU Topology" FontSize="16" FontWeight="SemiBold" 
                              Foreground="White" Margin="0,0,0,15"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Physical Cores:" 
                                  Foreground="#FF8B949E" Margin="0,0,0,10"/>
                        <TextBlock x:Name="PhysicalCoresText" Grid.Row="0" Grid.Column="1" 
                                  Text="N/A" Foreground="White" FontWeight="Medium" Margin="0,0,0,10"/>
                        
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Logical Cores:" 
                                  Foreground="#FF8B949E" Margin="0,0,0,10"/>
                        <TextBlock x:Name="LogicalCoresText" Grid.Row="1" Grid.Column="1" 
                                  Text="N/A" Foreground="White" FontWeight="Medium" Margin="0,0,0,10"/>
                        
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="HyperThreading/SMT:" 
                                  Foreground="#FF8B949E" Margin="0,0,0,10"/>
                        <TextBlock x:Name="SmtText" Grid.Row="2" Grid.Column="1" 
                                  Text="N/A" Foreground="White" FontWeight="Medium" Margin="0,0,0,10"/>
                        
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="NUMA Nodes:" 
                                  Foreground="#FF8B949E"/>
                        <TextBlock x:Name="NumaNodesText" Grid.Row="3" Grid.Column="1" 
                                  Text="N/A" Foreground="White" FontWeight="Medium"/>
                    </Grid>
                </StackPanel>
            </Border>

            <!-- Core Mapping -->
            <Border Grid.Row="1" Padding="15" Margin="0,0,0,15" CornerRadius="8" 
                   BorderThickness="1" BorderBrush="#FF30363D" Background="#FF161B22">
                <StackPanel>
                    <TextBlock Text="Core Mapping" FontSize="16" FontWeight="SemiBold" 
                              Foreground="White" Margin="0,0,0,15"/>
                    
                    <DataGrid x:Name="CoreMappingDataGrid" AutoGenerateColumns="False" 
                             IsReadOnly="True" Background="Transparent" Foreground="White" 
                             BorderThickness="0" HeadersVisibility="Column" GridLinesVisibility="None"
                             RowBackground="Transparent" AlternatingRowBackground="#10000000">
                        <DataGrid.ColumnHeaderStyle>
                            <Style TargetType="DataGridColumnHeader">
                                <Setter Property="Background" Value="#FF21262D"/>
                                <Setter Property="Foreground" Value="#FF58A6FF"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                                <Setter Property="Padding" Value="10,8"/>
                            </Style>
                        </DataGrid.ColumnHeaderStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Logical Core" Binding="{Binding LogicalCore}" Width="100"/>
                            <DataGridTextColumn Header="Physical Core" Binding="{Binding PhysicalCore}" Width="100"/>
                            <DataGridTextColumn Header="Package" Binding="{Binding Package}" Width="80"/>
                            <DataGridTextColumn Header="NUMA Node" Binding="{Binding NumaNode}" Width="100"/>
                            <DataGridTextColumn Header="SMT/HT" Binding="{Binding IsSmt}" Width="80"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Border>

            <!-- Cache Hierarchy -->
            <Border Grid.Row="2" Padding="15" Margin="0,0,0,15" CornerRadius="8" 
                   BorderThickness="1" BorderBrush="#FF30363D" Background="#FF161B22">
                <StackPanel>
                    <TextBlock Text="Cache Hierarchy" FontSize="16" FontWeight="SemiBold" 
                              Foreground="White" Margin="0,0,0,15"/>
                    
                    <DataGrid x:Name="CacheDataGrid" AutoGenerateColumns="False" 
                             IsReadOnly="True" Background="Transparent" Foreground="White" 
                             BorderThickness="0" HeadersVisibility="Column" GridLinesVisibility="None"
                             RowBackground="Transparent" AlternatingRowBackground="#10000000">
                        <DataGrid.ColumnHeaderStyle>
                            <Style TargetType="DataGridColumnHeader">
                                <Setter Property="Background" Value="#FF21262D"/>
                                <Setter Property="Foreground" Value="#FF58A6FF"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                                <Setter Property="Padding" Value="10,8"/>
                            </Style>
                        </DataGrid.ColumnHeaderStyle>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Level" Binding="{Binding Level}" Width="80"/>
                            <DataGridTextColumn Header="Size" Binding="{Binding Size}" Width="150"/>
                            <DataGridTextColumn Header="Associativity" Binding="{Binding Associativity}" Width="120"/>
                            <DataGridTextColumn Header="Line Size" Binding="{Binding LineSize}" Width="100"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </StackPanel>
            </Border>

            <!-- Visual Topology Diagram -->
            <Border Grid.Row="3" Padding="15" CornerRadius="8" 
                   BorderThickness="1" BorderBrush="#FF30363D" Background="#FF161B22">
                <StackPanel>
                    <TextBlock Text="Topology Visualization" FontSize="16" FontWeight="SemiBold" 
                              Foreground="White" Margin="0,0,0,15"/>
                    
                    <Canvas x:Name="TopologyCanvas" Height="300" Background="#FF0D1117">
                        <!-- Topology visualization will be drawn here -->
                    </Canvas>
                </StackPanel>
            </Border>
        </Grid>
    </ScrollViewer>
</UserControl>

